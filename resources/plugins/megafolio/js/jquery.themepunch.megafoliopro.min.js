/**************************************************************************
 * jquery.themepunch.megafolio.js - jQuery Plugin for megafolio pro gallery
 * @version: 1.6 (28.11.2014)
 * @requires jQuery v1.4 or later
 * @author Krisztian Horvath
**************************************************************************/
(function(e,t){function n(n,r){n.find(">.mega-entry").each(function(){var i=e(this);i.removeClass("tp-layout-first-item").removeClass("tp-layout-last-item").removeClass("very-last-item");i.addClass("tp-notordered").addClass("mega-entry-added");i.wrapInner('<div class="mega-entry-innerwrap"></div>');var s=i.find(".mega-entry-innerwrap");var o="50% 49%";if(i.data("bgposition")!=t)o=i.data("bgposition");s.css({background:"url("+i.data("src")+")",backgroundPosition:o,backgroundSize:"cover","background-repeat":"no-repeat"});i.find(".mega-show-more").each(function(){var t=e(this);t.data("entid",i.attr("id"));t.click(function(){var t=e(this);var i=n.find("#"+t.data("entid"));i.addClass("mega-in-detailview");r.detailview="on"})})})}function r(n,r,i){n.find(">.mega-entry-added").each(function(s){var o=e(this);if(!o.hasClass("tp-layout")){o.removeClass("tp-layout-first-item").removeClass("tp-layout-last-item").removeClass("very-last-item");o.addClass("tp-notordered");if(i)o.addClass("notplayedyet");o.wrapInner('<div class="mega-entry-innerwrap"></div>');var u=o.find(".mega-entry-innerwrap");var a="50% 49%";if(o.data("bgposition")!=t)a=o.data("bgposition");u.css({background:"url("+o.data("src")+")",backgroundPosition:a,backgroundSize:"cover","background-repeat":"no-repeat"});o.find(".mega-show-more").each(function(){var t=e(this);t.data("entid",o.attr("id"));t.click(function(){var t=e(this);var i=n.find("#"+t.data("entid"));i.addClass("mega-in-detailview");r.detailview="on"})})}})}function i(t){t.find(">.mega-entry.tp-layout").each(function(){var t=e(this);t.removeClass("tp-layout").addClass("tp-notordered")})}function s(n,r){var i=n.data("ie");var s=n.data("ie9");var o=n.data("opt");if(o.filterChangeSpeed==t)o.filterChangeSpeed=Math.round(Math.random()*500+100);o.filter=r;var u=1;var a=1;n.find(">.mega-entry").each(function(n){var i=e(this);var s=o.filterChangeRotate;if(s==t)s=30;if(s==99)s=Math.round(Math.random()*120-60);i.removeClass("tp-layout-first-item").removeClass("tp-layout-last-item").removeClass("very-last-item");var u=r.split(",");var f=false;for(var l=0;l<u.length;l++){if(i.hasClass(u[l])){f=true}}if(f||r=="*"){i.removeClass("tp-layout").addClass("tp-notordered")}else{i.removeClass("tp-ordered").removeClass("tp-layout");setTimeout(function(){if(o.filterChangeAnimation=="fade"){punchgs.TweenLite.to(i,o.filterChangeSpeed/1e3,{opacity:0,scale:1,rotation:0});punchgs.TweenLite.to(i.find(".mega-entry-innerwrap"),o.filterChangeSpeed/1e3,{scale:1,opacity:1,transformPerspecitve:300,rotationX:0,ease:punchgs.Power3.easeOut})}else if(o.filterChangeAnimation=="scale"){punchgs.TweenLite.to(i,o.filterChangeSpeed/1e3,{opacity:0,scale:1,rotation:0});punchgs.TweenLite.to(i.find(".mega-entry-innerwrap"),o.filterChangeSpeed/1e3,{scale:1,opacity:1,transformPerspecitve:300,rotationX:0,ease:punchgs.Power3.easeOut})}else if(o.filterChangeAnimation=="rotate"){punchgs.TweenLite.to(i,o.filterChangeSpeed/1e3,{opacity:0,scale:1,rotation:s});punchgs.TweenLite.to(i.find(".mega-entry-innerwrap"),o.filterChangeSpeed/1e3,{scale:1,opacity:1,transformPerspecitve:300,rotationX:0,ease:punchgs.Power3.easeOut})}else if(o.filterChangeAnimation=="rotatescale"){punchgs.TweenLite.to(i,o.filterChangeSpeed/1e3,{opacity:0,scale:o.filterChangeScale,rotation:s,ease:punchgs.Power3.easeOut});punchgs.TweenLite.to(i.find(".mega-entry-innerwrap"),o.filterChangeSpeed/1e3,{scale:1,opacity:1,transformPerspecitve:300,rotationX:0,ease:punchgs.Power3.easeOut})}else if(o.filterChangeAnimation=="pagetop"||o.filterChangeAnimation=="pagebottom"||o.filterChangeAnimation=="pagemiddle"){var e="center center";if(o.filterChangeAnimation=="pagebottom")e="center bottom";if(o.filterChangeAnimation=="pagetop")e="center top";punchgs.TweenLite.to(i,o.filterChangeSpeed/1e3,{opacity:0});punchgs.TweenLite.to(i.find(".mega-entry-innerwrap"),o.filterChangeSpeed/1e3,{scale:1,opacity:0,transformOrigin:e,transformPerspecitve:1e3,rotationX:90,ease:punchgs.Power3.easeOut,overwrite:"all"})}setTimeout(function(){i.css({visibility:"hidden"})},o.filterChangeSpeed)},a*o.delay/2);a++}})}function o(n){var r=n.data("ie");var i=n.data("ie9");var s=n.data("opt");if(s.filterChangeSpeed==t)s.filterChangeSpeed=Math.round(Math.random()*500+100);if(s.filterChangeScale==t)s.filterChangeScale=.8;var o=0;var u=0;n.find(">.mega-entry").each(function(n){var r=e(this);var i=s.filterChangeRotate;if(i==t)i=30;if(i==99)i=Math.round(Math.random()*120-60);if(s.filterChangeAnimation=="fade")punchgs.TweenLite.set(r,{scale:1,opacity:0,rotation:0,transformPerspective:300,ease:punchgs.Power3.easeOut});else if(s.filterChangeAnimation=="scale"){punchgs.TweenLite.set(r,{scale:s.filterChangeScale,opacity:0,rotation:0,transformPerspective:300,ease:punchgs.Power3.easeOut})}else if(s.filterChangeAnimation=="rotate")punchgs.TweenLite.set(r,{scale:1,opacity:0,rotation:i,transformPerspective:300,ease:punchgs.Power3.easeOut});else if(s.filterChangeAnimation=="rotatescale"){punchgs.TweenLite.set(r,{scale:s.filterChangeScale,opacity:0,rotation:i,transformPerspective:300,ease:punchgs.Power3.easeOut})}else if(s.filterChangeAnimation=="pagetop"||s.filterChangeAnimation=="pagebottom"||s.filterChangeAnimation=="pagemiddle"){var o="center center";if(s.filterChangeAnimation=="pagebottom")o="center bottom";if(s.filterChangeAnimation=="pagetop")o="center top";punchgs.TweenLite.set(r,{opacity:0,transformPerspective:300,ease:punchgs.Power3.easeOut});punchgs.TweenLite.set(r.find(".mega-entry-innerwrap"),{scale:1,opacity:0,transformOrigin:o,rotationX:90,transformPerspective:1e3,ease:punchgs.Power3.easeOut})}})}function u(t,n){if(n==0){var r=new Array}else var r=t.data("lastorder");var i=t.width();var s=t.data("order");if(n>s.length-1)n=0;var o=t.find(">.mega-entry.tp-notordered");var a=12;if(o.length<9)a=o.length;var l=s[n];var c=false;var h=!e.support.opacity;var p=!e.support.htmlSerialize;if(s[n]==0||l<2||l>23)if(h){l=9}else{l=Math.round(Math.random()*a+1)}if(l<2)l=2;if(l>23)l=23;r.push(l);var d=l;if(l==10||l==14)d=3;if(l==11||l==15)d=4;if(l==12||l==16)d=5;if(l==13||l==17)d=6;if(l==11||l==12||l==13||l==15||l==16||l==17)if(i<840&&i>721)d=4;else if(i<720)d=3;if(l==18||l==19||l==20)d=1;if(l==21||l==22||l==23)d=2;o.slice(0,d).each(function(t){var n=e(this);n.removeClass("tp-layout-first-item").removeClass("tp-layout-last-item").removeClass("very-last-item");n.addClass("tp-ordered tp-layout");n.data("layout",l);n.data("child",t);if(t==0)n.addClass("tp-layout-first-item");if(t==d-1){n.addClass("tp-layout-last-item")}n.removeClass("tp-notordered")});n=n+1;t.data("lastorder",r);if(t.find(">.mega-entry.tp-notordered").length>0)u(t,n);else{try{f(t).addClass("very-last-item")}catch(v){}return t}}function a(t,n,r){if(n==0){var i=new Array}else var i=t.data("lastorder");var s=t.width();var o=t.data("order");if(n>o.length-1)n=0;var u=t.find(">.mega-entry.tp-ordered");var l=12;if(u.length<9)l=u.length;var h=o[n];var p=false;var d=!e.support.opacity;var v=!e.support.htmlSerialize;if(o[n]==0||h<2||h>23)if(d){h=9}else{h=Math.round(Math.random()*l+1)}if(h<2)h=2;if(h>23&&h!=99)h=23;if(h==99)h=12;i.push(h);var m=h;if(h==10||h==14)m=3;if(h==11||h==15)m=4;if(h==12||h==16)m=5;if(h==13||h==17)m=6;if(h==11||h==12||h==13||h==15||h==16||h==17)if(s<840&&s>721)m=4;else if(s<720)m=3;if(h==18||h==19||h==20)m=1;if(h==21||h==22||h==23)m=2;var g=u.length-r;u.slice(g,g+m).each(function(t){var n=e(this);n.removeClass("tp-layout-first-item").removeClass("tp-layout-last-item").removeClass("very-last-item");n.addClass("tp-ordered tp-layout");n.data("layout",h);n.data("child",t);if(t==0)n.addClass("tp-layout-first-item");if(t==m-1){n.addClass("tp-layout-last-item")}n.removeClass("tp-notordered")});n=n+1;t.data("lastorder",i);r=r-m;if(r>0)a(t,n,r);else{f(t).addClass("very-last-item");c(t);return t}}function f(t){var n;t.find(">.mega-entry.tp-layout.tp-ordered").each(function(){n=e(this)});return n}function l(e){return e}function c(n,r,i){if(n.attr("id")=="megafolio_999_1"){var s=n.find(">.mega-entry.tp-layout").first();n.closest(".demo_container").width(n.width())}var o=0;var u=n.data("defaultwidth");var a=n.data("opt");var f=a.delay;var c=0;if(a.firststart==1){c=1;a.firststart=0}var h=n.width();var p=h/u;var d=185;var v=n.data("paddingh");var m=n.data("paddingv");var g=1;var y=1;var b=n.data("ie");var w=n.data("ie9");var E=5*p;var S=0;var x=h;var T=l(E*160);var N=l(E*158);var C=l(E*152);var k=l(E*148);var L=l(E*132);var A=l(E*123);var O=l(E*122);var M=l(E*119);var _=l(E*113);var D=l(E*112);var P=l(E*98);var H=l(E*92);var B=l(E*88);var j=l(E*87);var F=l(E*86);var I=l(E*84);var q=l(E*83);var R=l(E*79);var U=l(E*78);var z=l(E*77);var W=l(E*74);var X=l(E*73);var V=l(E*69);var J=l(E*68);var K=l(E*67);var Q=l(E*65.3);var G=l(E*49);var Y=l(E*48);var Z=l(E*45);var et=l(E*44);var tt=l(E*39.2);var nt=l(E*39);var rt=l(E*38);var it=l(E*37);var st=l(E*36);var ot=l(E*32.66);var ut=l(E*222);var at=k;var ft=l(E*111);var lt=W;var ct=X;var ht=G;var pt=Y;var dt=et;var vt=rt;var mt=it;var gt=st;var yt=new Array(0,0,0,0,0,0,0,0,0);var bt=new Array(0,0,0,0,0,0,0,0,0);var wt=0;var Et=0;var St=n.find(">.mega-entry.tp-layout").length;n.find(">.mega-entry.tp-layout").each(function(r){var s=e(this);var f=s.find(".mega-entry-innerwrap");Et=s.data("layout");if(Et==11||Et==12||Et==13)if(h<840&&h>721)Et=11;else if(h<720)Et=10;if(Et==15||Et==16||Et==17)if(h<840&&h>721)Et=15;else if(h<720)Et=14;var l=500;var p,d,g;var y=v;var w=m;var E=o;var T=mt;if(h>480){if(Et==2){if(h>767){if(s.data("child")==0){p=_;d=lt;g=0;T=lt}if(s.data("child")==1){p=q;d=lt;g=_;y=0;o=o+lt;T=lt}}else{if(h>480&&h<768){if(s.data("child")==0){p=I;d=lt;g=0;T=lt}if(s.data("child")==1){p=D;d=lt;g=I;y=0;o=o+lt;T=lt}}}}if(Et==3){if(h>767){if(s.data("child")==0){p=U;d=lt;g=0;T=lt}if(s.data("child")==1){p=Z;d=lt;g=U;T=lt}if(s.data("child")==2){p=X;d=lt;g=A;o=o+lt;T=lt;y=0}}else{if(h>480&&h<768){if(s.data("child")==0){p=W;d=lt;g=0;T=lt}if(s.data("child")==1){p=U;d=lt;g=W;T=lt}if(s.data("child")==2){p=et;d=lt;g=C;T=lt;o=o+lt;y=0}}}}if(Et==4){if(h>767){if(s.data("child")==0){p=I;d=lt;g=0;T=370}if(s.data("child")==1){p=nt;d=mt;g=I}if(s.data("child")==2){p=X;d=lt;g=A;y=0;o=o+mt;T=lt}if(s.data("child")==3){p=nt;d=mt;g=I;o=o+mt}}else{if(h>480&&h<768){if(s.data("child")==0){p=nt;d=mt;g=I}if(s.data("child")==1){p=I;d=lt;g=0;o=o+mt}if(s.data("child")==2){p=nt;d=mt;g=I;o=o-mt}if(s.data("child")==3){p=X;d=lt;g=A;y=0;o=o+lt;T=lt}}}}if(Et==5){if(h>767){if(s.data("child")==0){p=I;d=mt;g=0}if(s.data("child")==1){p=nt;d=mt;g=I}if(s.data("child")==2){p=X;d=lt;g=A;y=0;o=o+mt;T=lt}if(s.data("child")==3){p=et;d=mt;g=0}if(s.data("child")==4){p=R;d=mt;g=et;o=o+mt}}else{if(h>480&&h<768){if(s.data("child")==0){p=I;d=mt;g=0}if(s.data("child")==1){p=nt;d=mt;g=I}if(s.data("child")==2){p=X;d=mt;g=A;y=0;o=o+mt}if(s.data("child")==3){p=P;d=mt;g=0}if(s.data("child")==4){p=P;d=mt;g=P;y=0;o=o+mt}}}}if(Et==6){if(h>767){if(s.data("child")==0){p=W;d=lt;g=0;T=lt}if(s.data("child")==1){p=Z;d=mt;g=W}if(s.data("child")==2){p=z;d=mt;g=M;y=0;o=o+mt}if(s.data("child")==3){p=Z;d=mt;g=W}if(s.data("child")==4){p=nt;d=mt;g=M}if(s.data("child")==5){p=rt;d=mt;g=N;y=0;o=o+mt}}else{if(h>480&&h<768){if(s.data("child")==0){p=Z;d=lt;g=0;T=lt}if(s.data("child")==1){p=J;d=lt;g=Z;T=lt}if(s.data("child")==2){p=nt;d=mt;g=_}if(s.data("child")==3){p=et;d=mt;g=C;y=0;o=o+mt}if(s.data("child")==4){p=nt;d=mt;g=_}if(s.data("child")==5){p=et;d=mt;g=C;y=0;o=o+mt}}}}if(Et==7){if(h>767){if(s.data("child")==0){p=_;d=lt;g=0;T=lt}if(s.data("child")==1){p=q;d=mt;g=_;y=0;o=o+mt}if(s.data("child")==2){p=nt;d=mt;g=_}if(s.data("child")==3){p=et;d=lt;g=C;y=0;o=o+mt;T=lt}if(s.data("child")==4){p=Z;d=mt;g=0}if(s.data("child")==5){p=J;d=mt;g=Z}if(s.data("child")==6){p=nt;d=mt;g=_;o=o+mt}}else{if(h>480&&h<768){if(s.data("child")==0){p=_;d=lt;g=0;T=lt}if(s.data("child")==1){p=q;d=mt;g=_;y=0;o=o+mt}if(s.data("child")==2){p=nt;d=mt;g=_}if(s.data("child")==3){p=et;d=mt;g=C;y=0;o=o+mt}if(s.data("child")==4){p=Z;d=mt;g=0}if(s.data("child")==5){p=J;d=mt;g=Z}if(s.data("child")==6){p=q;d=mt;g=_;y=0;o=o+mt}}}}if(Et==8){if(h>767){if(s.data("child")==0){p=q;d=mt;g=0}if(s.data("child")==1){p=V;d=lt;g=q;T=lt}if(s.data("child")==2){p=et;d=mt;g=C;y=0;o=o+mt}if(s.data("child")==3){p=nt;d=mt;g=0}if(s.data("child")==4){p=et;d=mt;g=nt}if(s.data("child")==5){p=et;d=lt;g=C;y=0;o=o+mt;T=mt}if(s.data("child")==6){p=q;d=mt;g=0}if(s.data("child")==7){p=V;d=mt;g=q;o=o+mt}}else{if(h>480&&h<768){if(s.data("child")==0){p=q;d=mt;g=0}if(s.data("child")==1){p=nt;d=mt;g=q}if(s.data("child")==2){p=W;d=mt;g=O;y=0;o=o+mt;T=lt}if(s.data("child")==3){p=nt;d=mt;g=0}if(s.data("child")==4){p=q;d=mt;g=nt}if(s.data("child")==5){p=W;d=lt;g=O;y=0;o=o+mt;T=lt}if(s.data("child")==6){p=q;d=mt;g=0}if(s.data("child")==7){p=nt;d=mt;g=q;o=o+mt}}}}if(Et==9){if(h>767){if(s.data("child")==0){p=_;d=lt;g=0;T=lt}if(s.data("child")==1){p=q;d=mt;g=_;y=0;o=o+mt}if(s.data("child")==2){p=nt;d=mt;g=_}if(s.data("child")==3){p=et;d=lt;g=C;y=0;o=o+mt;T=lt}if(s.data("child")==4){p=Z;d=lt;g=0;T=lt}if(s.data("child")==5){p=J;d=lt;g=Z;T=lt}if(s.data("child")==6){p=nt;d=mt;g=_;o=o+mt}if(s.data("child")==7){p=nt;d=mt;g=_}if(s.data("child")==8){p=et;d=mt;g=C;y=0;o=o+mt}}else{if(h>480&&h<768){if(s.data("child")==0){p=W;d=lt;g=0;T=lt}if(s.data("child")==1){p=Y;d=lt;g=W;T=lt}if(s.data("child")==2){p=W;d=lt;g=O;y=0;o=o+lt;T=lt}if(s.data("child")==3){p=Y;d=lt;g=0;T=lt}if(s.data("child")==4){p=W;d=lt;g=Y;T=lt}if(s.data("child")==5){p=W;d=lt;g=O;y=0;o=o+lt;T=lt}if(s.data("child")==6){p=W;d=lt;g=0;T=lt}if(s.data("child")==7){p=W;d=lt;g=W;T=lt}if(s.data("child")==8){p=Y;d=lt;g=k;y=0;o=o+lt;T=lt}}}}if(Et>9&&Et<14){if(Et==10){p=Math.round(Q);p=p+y/3}else if(Et==11){p=Math.round(G);p=p+y/4}else if(Et==12){p=Math.round(tt);p=p+y/5}else if(Et==13){p=Math.round(ot);p=p+y/6}var d=p;var L=s.data("child");g=p*L;T=d;if(L==2&&Et==10||L==3&&Et==11||L==4&&Et==12||L==5&&Et==13||s.hasClass("tp-layout-last-item")){o=o+d}}if(Et==18){p=Math.round(x);p=p+y;var d=p;var L=s.data("child");g=p*L;T=d;o=o+d}if(Et==19){p=Math.round(x);p=p+y;var d=p/2;var L=s.data("child");g=p*L;T=d;o=o+d}if(Et==20){p=Math.round(x);p=p+y;var d=p/3;var L=s.data("child");g=p*L;T=d;o=o+d}if(Et==21){p=Math.round(P);p=p+y/2;var d=p;var L=s.data("child");g=p*L;T=d;if(L==1)o=o+d}if(Et==22){p=Math.round(P);p=p+y/2;var d=p/2;var L=s.data("child");g=p*L;T=d;if(L==1)o=o+d}if(Et==23){p=Math.round(P);p=p+y/2;var d=p/3;var L=s.data("child");g=p*L;T=d;if(L==1)o=o+d}if(Et>13&&Et<18){if(Et==14){p=Math.round(Q);p=p+y/3}else if(Et==15){p=Math.round(G);p=p+y/4}else if(Et==16){p=Math.round(tt);p=p+y/5}else if(Et==17){p=Math.round(ot);p=p+y/6}var L=s.data("child");var H=p/s.data("width");d=s.data("height")*H;g=p*s.data("child");E=yt[L];T=d*H;bt[L]=T;o=E+d;yt[L]=o}}else{d=Math.round(s.data("height")*(h/s.data("width")));p=h;y=0;g=0;E=o;o=o+d}var B=1;var j=1;var F=0;var K=0;var it=a.filterChangeRotate;if(it==t)K=30;if(it==99)it=Math.round(Math.random()*360);var st=a.filter.split(",");var ut=false;for(var at=0;at<st.length;at++){if(s.hasClass(st[at])){ut=true}}if(ut||a.filter=="*"){s.css({visibility:"visible"});if(a.filterChangeAnimation=="pagetop"||a.filterChangeAnimation=="pagebottom"||a.filterChangeAnimation=="pagemiddle"){K=0;F=0;B=1;j=1;eiscal=1;eiopaa=1;eirx=0}else{B=1;K=0;j=1;eiscal=1;eiopaa=1;eirx=0}}if(a.detailview=="on"&&j==1)j=.4;if(s.hasClass("mega-in-detailview"))j=1;s.removeClass("mega-square").removeClass("mega-portrait").removeClass("mega-landscape");var ft=Math.floor(p/100);var ct=Math.floor(d/100);if(ft>ct)s.addClass("mega-landscape");if(ct>ft)s.addClass("mega-portrait");if(ft==ct)s.addClass("mega-square");var ht=r*a.delay;if(b){var pt=f.find(".ieimg");var dt=Math.round(s.data("width"))/Math.round(s.data("height"));var vt=Math.round(p)/Math.round(d);var gt=p;var wt=gt/s.data("width")*s.data("height");if(wt<d){wt=d;gt=wt/s.data("height")*s.data("width")}pt.css({width:gt+"px",height:wt+"px"})}var H=h/u*100-16;if(s.data("lowsize")!=t)if(H<=s.data("lowsize"))s.addClass("mega-lowsize");else s.removeClass("mega-lowsize");if(p<220)wproci="small";if(p>219&&p<425)wproci="medium";if(p>424)wproci="large";if(d<220)wproci="small";if(d>220&&d<425&&(wproci=="small"||wproci=="medium"))wproci="medium";if(d>424&&wproci!="small")wproci="large";s.removeClass("megasize-small").removeClass("megasize-medium").removeClass("megasize-large");s.addClass("megasize-"+wproci);if(n.attr("id")=="megafolio_999_1")s.find(".mega-title").html("Item Size:"+wproci);if(i){ht=0}if(c){ht=ht+100;punchgs.TweenLite.set(s,{opacity:0,top:E,left:g,width:p,height:d,paddingBottom:w,paddingRight:y,ease:punchgs.Power3.easeInOut,transformPerspective:300})}setTimeout(function(){if(i){if(s.hasClass("notplayedyet")){punchgs.TweenLite.set(s,{opacity:0,width:p,height:d,top:E,left:g,paddingBottom:w,paddingRight:y,transformPerspective:300})}}punchgs.TweenLite.to(s,a.filterChangeSpeed/1e3,{scale:B,opacity:j,rotation:K,zIndex:1,width:p,height:d,top:E,left:g,paddingBottom:w,paddingRight:y,transformPerspective:300,ease:punchgs.Power3.easeInOut,onComplete:function(){s.removeClass("notplayedyet")}});setTimeout(function(){punchgs.TweenLite.to(s.find(".mega-entry-innerwrap"),a.filterChangeSpeed/1e3,{scale:eiscal,opacity:eiopaa,rotationX:0,ease:punchgs.Power3.easeInOut,transformPerspective:1e3});s.removeClass("mega-entry-added")},50)},ht);if(s.hasClass("very-last-item")&&!s.hasClass("tp-layout-last-item")){o=o+T}else{}if(S<E+d)S=E+d});if(Et>13&&Et<18){o=yt[0];for(allh=0;allh<yt.length;allh++){if(o<yt[allh])o=yt[allh]}}punchgs.TweenLite.to(n,.3,{height:S,ease:punchgs.Power3.easeOut,overwrite:"all"})}e.fn.extend({megafoliopro:function(r){var i={filterChangeAnimation:"rotatescale",filterChangeSpeed:400,filterChangeRotate:99,filterChangeScale:.6,delay:20,defaultWidth:980,paddingHorizontal:10,paddingVertical:10,layoutarray:[11],lowSize:50,startFilter:"*"};r=e.extend({},i,r);return this.each(function(){punchgs.force3D=true;var i=r;i.detaiview="off";i.firststart=1;if(i.filter==t)i.filter="*";if(i.delay==t)i.delay=0;var f=i.firefox13=false;var l=i.ie=!e.support.opacity;var h=i.ie9=!e.support.htmlSerialize;if(l)e("body").addClass("ie8");if(h)e("body").addClass("ie9");var p=e(this);if(p.attr("id")=="megafolio_999_1"){var d=p.find(".mega-entry").first();for(var v=0;v<20;v++){d.clone(true).appendTo(p)}}p.data("defaultwidth",i.defaultWidth);p.data("paddingh",i.paddingHorizontal);p.data("paddingv",i.paddingVertical);p.data("order",i.layoutarray);p.data("ie",l);p.data("ie9",h);p.data("ff",f);p.data("opt",i);n(p,i);u(p,0);s(p,"*");o(p);u(p,0);setTimeout(function(){c(p)},400);if(i.startFilter!="*"&&i.startFilter!=t){s(p,i.startFilter);u(p,0);c(p)}e(window).resize(function(){clearTimeout(p.data("resized"));p.data("resized",setTimeout(function(){a(p,0,p.find(">.mega-entry.tp-ordered").length)},150))});if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)){e(".mega-entry").click(function(){})}})},megamethode:function(t){return this.each(function(){var t=e(this)})},megagetcurrentorder:function(){var t=e(this);return t.data("lastorder")},megaappendentry:function(t){var n=e(this);var i=e(t);i.addClass("mega-entry-added");n.append(i);var o=n.data("opt");r(n,o,true);u(n,0);c(n,1,true);setTimeout(function(){s(n,o.filter);u(n,0);c(n,1,true)},200)},megaprependentry:function(t){var n=e(this);var i=e(t);i.addClass("mega-entry-added");n.prepend(i);var o=n.data("opt");r(n,o,true);u(n,0);c(n,1,true);setTimeout(function(){s(n,o.filter);u(n,0);c(n,1,true)},200)},megaremix:function(n){return this.each(function(){var r=e(this);if(n!=t)r.data("order",n);i(r);u(r,0);c(r)})},megafilter:function(t){return this.each(function(){var n=e(this);if(n.data("nofilterinaction")!=1){n.data("nofilterinaction",1);s(n,t);u(n,0);c(n);setTimeout(function(){n.data("nofilterinaction",0)},1200)}else{clearInterval(n.data("nextfiltertimer"));n.data("nextfiltertimer",setInterval(function(){if(n.data("nofilterinaction")!=1){clearInterval(n.data("nextfiltertimer"));s(n,t);u(n,0);c(n);n.data("nofilterinaction",1);setTimeout(function(){n.data("nofilterinaction",0)},1200)}},10))}})},megaanimchange:function(t,n,r,i){return this.each(function(){var o=e(this);var a=o.data("opt");var f=a.filter;a.filterChangeAnimation=t;a.filterChangeSpeed=n;a.filterChangeRotate=r;a.filterChangeScale=i;s(o,"");s(o,f);setTimeout(function(){u(o,0);c(o)},2*a.filterChangeSpeed);o.data("opt",a)})}})})(jQuery);(function(e,t){e.fn.fitVids=function(t){var n={customSelector:null};var r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];r.className="fit-vids-style";r.innerHTML="­<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";i.parentNode.insertBefore(r,i);if(t){e.extend(n,t)}return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']","object","embed"];if(n.customSelector){t.push(n.customSelector)}var r=e(this).find(t.join(","));r.each(function(){var t=e(this);if(this.tagName.toLowerCase()=="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length){return}var n=this.tagName.toLowerCase()=="object"?t.attr("height"):t.height(),r=n/t.width();if(!t.attr("id")){var i="fitvid"+Math.floor(Math.random()*999999);t.attr("id",i)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",r*100+"%");t.removeAttr("height").removeAttr("width")})})}})(jQuery)